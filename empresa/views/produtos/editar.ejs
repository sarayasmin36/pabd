<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Editar Produto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>


<div class="container mt-5">


<h1>Editar Produto</h1>


<form action="/produtos/atualizar/<%= produto.id_produto %>" method="POST">


    <div class="mb-3">
        <label>Produto</label>
        <input type="text"
               name="nome_produto"
               class="form-control"
               value="<%= produto.nome_produto %>"
               required>
    </div>


    <div class="mb-3">
        <label>Preço</label>
        <input type="number"
               step="0.01"
               name="preco"
               class="form-control"
               value="<%= produto.preco %>"
               required>
    </div>


    <div class="mb-3">
        <label>Estoque</label>
        <input type="number"
               name="estoque"
               class="form-control"
               value="<%= produto.estoque %>"
               required>
    </div>


    <div class="mb-3">
        <label>Categoria</label>
        <select name="id_categoria" class="form-control">


            <% categorias.forEach(c => { %>
                <option value="<%= c.id_categoria %>"
                    <%= c.id_categoria == produto.id_categoria ? 'selected' : '' %>>
                    <%= c.nome_categoria %>
                </option>
            <% }) %>


        </select>
    </div>


    <div class="mb-3">
        <label>Fornecedor</label>
        <select name="id_fornecedor" class="form-control">


            <% fornecedores.forEach(f => { %>
                <option value="<%= f.id_fornecedor %>"
                    <%= f.id_fornecedor == produto.id_fornecedor ? 'selected' : '' %>>
                    <%= f.nome_fornecedor %>
                </option>
            <% }) %>


        </select>
    </div>


    <button class="btn btn-success">Salvar Alterações</button>


    <a href="/produtos" class="btn btn-secondary">
        Cancelar
    </a>


</form>


</div>


</body>
</html>


